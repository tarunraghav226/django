{% extends 'base.html'%}
{%load static%}

    {%block css%}
      <style>
          .carousel-control-prev,.carousel-control-next{background-color: black;width: 4%;height:50px;position:absolute;top:48%;border-radius:100%;margin:0px 10px 0px 10px}
          .carousel-item{margin-left:7%}
          .carousel-indicators{background-color:black;position: relative;top:30px}
          .card{float:left;height:400px;margin-right:4px;text-overflow:ellipsis}
          .card-img-top{width:100%;height:45%}
          .card-body .card-text{width:250px;height:50px;overflow: hidden;text-overflow: ellipsis}
          .card-body .card-text:hover{overflow:visible}
          .offer{background-color:rgb(110, 37, 37);border-radius:5px;padding:5px;color:white;position: absolute;left:80%;bottom:48%}
          .carousel-inner h3{margin:0px 0px 10px 50px}
          body{
            background-color: #525252;
          }
        </style>
    {%endblock%}
    
    {%block carousel%}
    {%for carousel in data%}
      <div id="carouselExampleIndicators{{forloop.counter}}" class="carousel slide" data-ride="carousel">
          
        <div class="carousel-inner">
          
          {%if forloop.counter == 1 %}
          <h3><br/>Poducts We Have For You</h3>
          {%else%}
          <h3><br/>{{carousel.0.0.cate}}</h3>
          {%endif%}
          {%for slides in carousel%}
          {%if forloop.counter == 1 %}
          <div class="carousel-item active">
          {%else%}
          <div class='carousel-item'>
          {%endif%}
            
              {%for object in slides %}
              <div class="card" style="width: 18rem;">
                  <img src="media/{{object.logo}}" class="card-img-top" alt="picItem">
                  <div class="card-body">
                    <h5 class="card-title">
                      {{object.name}}
                      {%if object.offer == True%}
                        <div class='offer'>offer</div>
                      {%endif%}
                    </h5>
                    <p class="card-text">{{object.desc}}</p>
                    <p class='card-title'>{{object.price}}</p>
                    <a href="#" class="btn btn-primary">Buy Now</a>
                    <a href="/viewProduct{{object.productID}}/" class="btn btn-primary">View</a>
                  </div>
                </div>
                {%endfor%}
          </div>
          {%endfor%}
        </div>
        <ol class="carousel-indicators">
            {%for j in carousel%}
            {%if forloop.counter == 1%}
            <li data-target="#carouselExampleIndicators0" data-slide-to="0" class="active"></li>
            {%else%}
            <li data-target="#carouselExampleIndicators{{forloop.parentloop.counter}}" data-slide-to="{{forloop.counter}}"></li>
            {%endif%}
            {%endfor%}
          </ol>
        <a class="carousel-control-prev" href="#carouselExampleIndicators{{forloop.counter}}" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleIndicators{{forloop.counter}}" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
      {%endfor%}
      {%endblock%}